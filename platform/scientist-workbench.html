<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scientist Workbench | ClimaIQ</title>
    <link rel="icon" type="image/svg+xml" href="../assets/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <style>
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #0a0a0f;
            --card-bg: #16161f;
            --card-hover: #1c1c28;
            --text-primary: #f0f0f5;
            --text-secondary: #a0a0b0;
            --text-muted: #6a6a7a;
            --fire-orange: #ff6b35;
            --amber: #ffa726;
            --red: #ff3d00;
            --cyan: #00bcd4;
            --green: #73bf69;
            --blue: #5794f2;
            --purple: #b07aff;
            --card-border: rgba(255,255,255,0.06);
            --card-shadow: 0 4px 32px rgba(0,0,0,0.4);
            --code-bg: #1a1a2e;
            --terminal-bg: #0d0d14;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Ambient background effects */
        body::before {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(255, 107, 53, 0.03) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(0, 188, 212, 0.03) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, rgba(176, 122, 255, 0.02) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
            animation: ambientDrift 20s ease-in-out infinite alternate;
        }

        @keyframes ambientDrift {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(-2%, -1%) rotate(1deg); }
        }

        /* Top Bar */
        .top-bar {
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 32px;
            height: 64px;
            background: rgba(10, 10, 15, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--card-border);
        }

        .top-bar-left {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: var(--text-primary);
        }

        .logo-icon {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--fire-orange), var(--red));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: 800;
            color: white;
            box-shadow: 0 0 20px rgba(255, 107, 53, 0.3);
            position: relative;
            overflow: hidden;
        }

        .logo-icon::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, transparent 40%, rgba(255,255,255,0.15));
            border-radius: inherit;
        }

        .logo-text {
            font-size: 20px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .logo-text span {
            background: linear-gradient(135deg, var(--fire-orange), var(--amber));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-title {
            font-size: 15px;
            font-weight: 500;
            color: var(--text-secondary);
            padding-left: 24px;
            border-left: 1px solid rgba(255,255,255,0.1);
        }

        .top-bar-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .live-dot {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            font-weight: 600;
            color: var(--green);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .live-dot::before {
            content: '';
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--green);
            box-shadow: 0 0 12px var(--green);
            animation: livePulse 2s ease-in-out infinite;
        }

        @keyframes livePulse {
            0%, 100% { opacity: 1; box-shadow: 0 0 12px var(--green); }
            50% { opacity: 0.5; box-shadow: 0 0 4px var(--green); }
        }

        .back-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 13px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 6px 14px;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.08);
            transition: all 0.25s ease;
        }

        .back-link:hover {
            color: var(--text-primary);
            background: rgba(255,255,255,0.05);
            border-color: rgba(255,255,255,0.15);
        }

        /* Main Content */
        .main-content {
            position: relative;
            z-index: 1;
            max-width: 1440px;
            margin: 0 auto;
            padding: 28px 32px 60px;
        }

        /* Metric Cards Row */
        .metrics-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 28px;
        }

        .metric-card {
            position: relative;
            border-radius: 12px;
            border: 1px solid var(--card-border);
            padding: 24px;
            overflow: hidden;
            transition: all 0.35s ease;
            cursor: default;
        }

        .metric-card:hover {
            transform: translateY(-3px);
            border-color: rgba(255,255,255,0.12);
        }

        .metric-card::before {
            content: '';
            position: absolute;
            inset: 0;
            opacity: 0.12;
            z-index: 0;
            transition: opacity 0.35s ease;
        }

        .metric-card:hover::before {
            opacity: 0.18;
        }

        .metric-card.green::before { background: linear-gradient(135deg, #73bf69, #2a9d3f); }
        .metric-card.blue::before { background: linear-gradient(135deg, #5794f2, #3b82f6); }
        .metric-card.orange::before { background: linear-gradient(135deg, #ff6b35, #ffa726); }
        .metric-card.purple::before { background: linear-gradient(135deg, #b07aff, #8b5cf6); }

        .metric-card.green { box-shadow: var(--card-shadow), inset 0 1px 0 rgba(115, 191, 105, 0.15); }
        .metric-card.blue { box-shadow: var(--card-shadow), inset 0 1px 0 rgba(87, 148, 242, 0.15); }
        .metric-card.orange { box-shadow: var(--card-shadow), inset 0 1px 0 rgba(255, 107, 53, 0.15); }
        .metric-card.purple { box-shadow: var(--card-shadow), inset 0 1px 0 rgba(176, 122, 255, 0.15); }

        .metric-card > * {
            position: relative;
            z-index: 1;
        }

        .metric-label {
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .metric-value {
            font-size: 36px;
            font-weight: 800;
            letter-spacing: -1px;
            line-height: 1;
            margin-bottom: 6px;
        }

        .metric-card.green .metric-value { color: #73bf69; }
        .metric-card.blue .metric-value { color: #5794f2; }
        .metric-card.orange .metric-value { color: #ff6b35; }
        .metric-card.purple .metric-value { color: #b07aff; }

        .metric-sub {
            font-size: 12px;
            color: var(--text-muted);
        }

        .metric-icon {
            position: absolute;
            top: 18px;
            right: 20px;
            font-size: 28px;
            opacity: 0.3;
            z-index: 1;
        }

        /* Generic Card */
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            border: 1px solid var(--card-border);
            box-shadow: var(--card-shadow);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .card:hover {
            background: var(--card-hover);
            border-color: rgba(255,255,255,0.1);
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 24px 16px;
        }

        .card-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-title-icon {
            width: 28px;
            height: 28px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .card-body {
            padding: 0 24px 24px;
        }

        /* Two-Column Layouts */
        .two-col {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 28px;
        }

        .three-col {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 28px;
        }

        /* Algorithm Selector Pills */
        .pill-row {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 16px;
        }

        .pill {
            padding: 7px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            border: 1px solid rgba(255,255,255,0.08);
            background: rgba(255,255,255,0.03);
            color: var(--text-secondary);
            transition: all 0.25s ease;
        }

        .pill:hover {
            background: rgba(255,255,255,0.08);
            color: var(--text-primary);
        }

        .pill.active {
            background: rgba(255, 107, 53, 0.15);
            color: var(--fire-orange);
            border-color: rgba(255, 107, 53, 0.35);
            box-shadow: 0 0 16px rgba(255, 107, 53, 0.1);
        }

        /* Code Editor */
        .code-editor {
            background: var(--code-bg);
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.05);
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 12.5px;
            line-height: 1.75;
            overflow-x: auto;
            position: relative;
        }

        .code-editor::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255,107,53,0.3), transparent);
        }

        .code-line {
            display: flex;
            gap: 0;
        }

        .line-num {
            color: rgba(255,255,255,0.15);
            min-width: 32px;
            text-align: right;
            padding-right: 16px;
            user-select: none;
            font-size: 11px;
        }

        .code-content {
            flex: 1;
        }

        .kw { color: var(--fire-orange); font-weight: 500; }
        .str { color: var(--green); }
        .cmt { color: var(--text-muted); font-style: italic; }
        .fn { color: var(--cyan); }
        .num { color: var(--amber); }
        .var { color: var(--text-primary); }
        .op { color: var(--text-secondary); }
        .builtin { color: #e0a0ff; }

        /* Action Buttons */
        .btn-row {
            display: flex;
            gap: 10px;
            margin-top: 16px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 9px 20px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            font-family: 'Inter', sans-serif;
            border: none;
            cursor: pointer;
            transition: all 0.25s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .btn-green {
            background: linear-gradient(135deg, rgba(115, 191, 105, 0.2), rgba(42, 157, 63, 0.2));
            color: var(--green);
            border: 1px solid rgba(115, 191, 105, 0.3);
        }
        .btn-green:hover {
            background: linear-gradient(135deg, rgba(115, 191, 105, 0.3), rgba(42, 157, 63, 0.3));
            box-shadow: 0 0 20px rgba(115, 191, 105, 0.15);
        }

        .btn-blue {
            background: linear-gradient(135deg, rgba(87, 148, 242, 0.2), rgba(59, 130, 246, 0.2));
            color: var(--blue);
            border: 1px solid rgba(87, 148, 242, 0.3);
        }
        .btn-blue:hover {
            background: linear-gradient(135deg, rgba(87, 148, 242, 0.3), rgba(59, 130, 246, 0.3));
            box-shadow: 0 0 20px rgba(87, 148, 242, 0.15);
        }

        .btn-amber {
            background: linear-gradient(135deg, rgba(255, 167, 38, 0.2), rgba(255, 107, 53, 0.2));
            color: var(--amber);
            border: 1px solid rgba(255, 167, 38, 0.3);
        }
        .btn-amber:hover {
            background: linear-gradient(135deg, rgba(255, 167, 38, 0.3), rgba(255, 107, 53, 0.3));
            box-shadow: 0 0 20px rgba(255, 167, 38, 0.15);
        }

        .btn-outline {
            background: rgba(255,255,255,0.03);
            color: var(--text-secondary);
            border: 1px solid rgba(255,255,255,0.08);
        }
        .btn-outline:hover {
            background: rgba(255,255,255,0.08);
            color: var(--text-primary);
        }

        /* Chart Container */
        .chart-container {
            position: relative;
            height: 260px;
            padding: 0 4px;
        }

        /* Notebook Cells */
        .notebook-cell {
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.05);
            margin-bottom: 14px;
            overflow: hidden;
        }

        .cell-header {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 14px;
            background: rgba(255,255,255,0.02);
            border-bottom: 1px solid rgba(255,255,255,0.04);
            font-size: 11px;
            color: var(--text-muted);
        }

        .cell-badge {
            padding: 2px 10px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .cell-badge.code-badge {
            background: rgba(87, 148, 242, 0.15);
            color: var(--blue);
        }

        .cell-badge.output-badge {
            background: rgba(115, 191, 105, 0.15);
            color: var(--green);
        }

        .cell-code {
            padding: 14px 16px;
            background: var(--code-bg);
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            line-height: 1.7;
        }

        .cell-output {
            padding: 14px 16px;
            background: rgba(115, 191, 105, 0.03);
            border-top: 1px solid rgba(115, 191, 105, 0.1);
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            line-height: 1.6;
            color: var(--green);
        }

        /* Terminal / Experiment Log */
        .terminal {
            background: var(--terminal-bg);
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.04);
            padding: 18px 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 11.5px;
            line-height: 1.85;
            overflow-x: auto;
            position: relative;
        }

        .terminal::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(0,188,212,0.2), transparent);
        }

        .log-time { color: var(--green); }
        .log-info { color: var(--blue); font-weight: 600; }
        .log-warn { color: var(--amber); font-weight: 600; }
        .log-error { color: var(--red); font-weight: 600; }
        .log-msg { color: #c8c8d0; }

        /* Dataset List */
        .dataset-list {
            list-style: none;
        }

        .dataset-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            border-radius: 8px;
            transition: all 0.2s ease;
            cursor: pointer;
            border: 1px solid transparent;
        }

        .dataset-item:hover {
            background: rgba(255,255,255,0.04);
            border-color: rgba(255,255,255,0.06);
        }

        .dataset-item + .dataset-item {
            margin-top: 2px;
        }

        .dataset-name {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 2px;
        }

        .dataset-meta {
            font-size: 11px;
            color: var(--text-muted);
        }

        .dataset-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            background: rgba(255,255,255,0.04);
            margin-right: 14px;
            flex-shrink: 0;
        }

        .dataset-left {
            display: flex;
            align-items: center;
        }

        .dataset-size {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-muted);
            background: rgba(255,255,255,0.04);
            padding: 3px 10px;
            border-radius: 6px;
            white-space: nowrap;
        }

        /* Tool Grid */
        .tool-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-top: 14px;
        }

        .tool-btn {
            padding: 12px 16px;
            border-radius: 8px;
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.06);
            color: var(--text-secondary);
            font-size: 12px;
            font-weight: 600;
            font-family: 'Inter', sans-serif;
            cursor: pointer;
            transition: all 0.25s ease;
            text-align: center;
        }

        .tool-btn:hover {
            background: rgba(255, 107, 53, 0.08);
            border-color: rgba(255, 107, 53, 0.2);
            color: var(--fire-orange);
            box-shadow: 0 0 20px rgba(255, 107, 53, 0.08);
        }

        /* FireBench Code */
        .firebench-code {
            background: var(--code-bg);
            border-radius: 8px;
            padding: 16px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 11.5px;
            line-height: 1.7;
            border: 1px solid rgba(255,255,255,0.04);
            margin-bottom: 14px;
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.18); }

        /* Glow effects on section headers */
        .section-glow-orange { text-shadow: 0 0 30px rgba(255, 107, 53, 0.15); }
        .section-glow-cyan { text-shadow: 0 0 30px rgba(0, 188, 212, 0.15); }
        .section-glow-purple { text-shadow: 0 0 30px rgba(176, 122, 255, 0.15); }

        /* Fade-in animation */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(16px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-in {
            animation: fadeInUp 0.5s ease forwards;
            opacity: 0;
        }

        .delay-1 { animation-delay: 0.05s; }
        .delay-2 { animation-delay: 0.1s; }
        .delay-3 { animation-delay: 0.15s; }
        .delay-4 { animation-delay: 0.2s; }
        .delay-5 { animation-delay: 0.25s; }
        .delay-6 { animation-delay: 0.3s; }
        .delay-7 { animation-delay: 0.35s; }
        .delay-8 { animation-delay: 0.4s; }
        .delay-9 { animation-delay: 0.45s; }

        /* Card inner glow on hover */
        .card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.08), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .card:hover::after {
            opacity: 1;
        }

        .card {
            position: relative;
        }

        /* Responsive */
        @media (max-width: 1100px) {
            .three-col { grid-template-columns: 1fr; }
            .two-col { grid-template-columns: 1fr; }
            .metrics-row { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 640px) {
            .metrics-row { grid-template-columns: 1fr; }
            .main-content { padding: 16px; }
            .top-bar { padding: 0 16px; }
            .page-title { display: none; }
        }
    </style>
</head>
<body>

<!-- Top Bar -->
<header class="top-bar">
    <div class="top-bar-left">
        <a href="../index.html" class="logo">
            <div class="logo-icon">C</div>
            <div class="logo-text">Clima<span>IQ</span></div>
        </a>
        <span class="page-title">Scientist Workbench</span>
    </div>
    <div class="top-bar-right">
        <span class="live-dot">Live</span>
        <a href="../index.html" class="back-link">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5"/><path d="m12 19-7-7 7-7"/></svg>
            Back to Platform
        </a>
    </div>
</header>

<!-- Main Content -->
<main class="main-content">

    <!-- Metric Cards Row -->
    <section class="metrics-row">
        <div class="metric-card green animate-in delay-1">
            <span class="metric-icon">&#x2713;</span>
            <div class="metric-label">Model Accuracy</div>
            <div class="metric-value">94.7%</div>
            <div class="metric-sub">+2.1% from last epoch</div>
        </div>
        <div class="metric-card blue animate-in delay-2">
            <span class="metric-icon">&#x2193;</span>
            <div class="metric-label">Validation Loss</div>
            <div class="metric-value">0.023</div>
            <div class="metric-sub">Converging steadily</div>
        </div>
        <div class="metric-card orange animate-in delay-3">
            <span class="metric-icon">&#x25A0;</span>
            <div class="metric-label">Training Samples</div>
            <div class="metric-value">2.3M</div>
            <div class="metric-sub">Across 8 data sources</div>
        </div>
        <div class="metric-card purple animate-in delay-4">
            <span class="metric-icon">&#x25C6;</span>
            <div class="metric-label">Active Experiments</div>
            <div class="metric-value">47</div>
            <div class="metric-sub">12 running, 35 queued</div>
        </div>
    </section>

    <!-- Row 1: ML Pipeline + Feature Importance -->
    <section class="two-col">
        <!-- ML Pipeline Card -->
        <div class="card animate-in delay-5">
            <div class="card-header">
                <div class="card-title section-glow-orange">
                    <span class="card-title-icon" style="background:rgba(255,107,53,0.12); color:var(--fire-orange);">&#x2699;</span>
                    Machine Learning Pipeline
                </div>
                <span style="font-size:11px;color:var(--text-muted);">v2.4.1</span>
            </div>
            <div class="card-body">
                <div class="pill-row">
                    <span class="pill active">Random Forest</span>
                    <span class="pill">XGBoost</span>
                    <span class="pill">Neural Network</span>
                    <span class="pill">SVM</span>
                </div>
                <div class="code-editor">
                    <div class="code-line"><span class="line-num">1</span><span class="code-content"><span class="cmt"># Fire Risk Prediction Model - Random Forest</span></span></div>
                    <div class="code-line"><span class="line-num">2</span><span class="code-content"><span class="kw">import</span> <span class="var">pandas</span> <span class="kw">as</span> <span class="var">pd</span></span></div>
                    <div class="code-line"><span class="line-num">3</span><span class="code-content"><span class="kw">import</span> <span class="var">numpy</span> <span class="kw">as</span> <span class="var">np</span></span></div>
                    <div class="code-line"><span class="line-num">4</span><span class="code-content"><span class="kw">from</span> <span class="var">sklearn.ensemble</span> <span class="kw">import</span> <span class="fn">RandomForestRegressor</span></span></div>
                    <div class="code-line"><span class="line-num">5</span><span class="code-content"><span class="kw">from</span> <span class="var">sklearn.model_selection</span> <span class="kw">import</span> <span class="fn">train_test_split</span></span></div>
                    <div class="code-line"><span class="line-num">6</span><span class="code-content"></span></div>
                    <div class="code-line"><span class="line-num">7</span><span class="code-content"><span class="cmt"># Load wildfire dataset</span></span></div>
                    <div class="code-line"><span class="line-num">8</span><span class="code-content"><span class="var">df</span> <span class="op">=</span> <span class="var">pd</span><span class="op">.</span><span class="fn">read_csv</span><span class="op">(</span><span class="str">'fire_data.csv'</span><span class="op">)</span></span></div>
                    <div class="code-line"><span class="line-num">9</span><span class="code-content"><span class="var">features</span> <span class="op">=</span> <span class="op">[</span><span class="str">'temperature'</span><span class="op">,</span> <span class="str">'humidity'</span><span class="op">,</span> <span class="str">'wind_speed'</span><span class="op">,</span></span></div>
                    <div class="code-line"><span class="line-num">10</span><span class="code-content">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="str">'vegetation_index'</span><span class="op">,</span> <span class="str">'elevation'</span><span class="op">,</span> <span class="str">'slope'</span><span class="op">]</span></span></div>
                    <div class="code-line"><span class="line-num">11</span><span class="code-content"></span></div>
                    <div class="code-line"><span class="line-num">12</span><span class="code-content"><span class="var">X</span> <span class="op">=</span> <span class="var">df</span><span class="op">[</span><span class="var">features</span><span class="op">]</span></span></div>
                    <div class="code-line"><span class="line-num">13</span><span class="code-content"><span class="var">y</span> <span class="op">=</span> <span class="var">df</span><span class="op">[</span><span class="str">'fire_risk_score'</span><span class="op">]</span></span></div>
                    <div class="code-line"><span class="line-num">14</span><span class="code-content"></span></div>
                    <div class="code-line"><span class="line-num">15</span><span class="code-content"><span class="var">X_train</span><span class="op">,</span> <span class="var">X_test</span><span class="op">,</span> <span class="var">y_train</span><span class="op">,</span> <span class="var">y_test</span> <span class="op">=</span> <span class="fn">train_test_split</span><span class="op">(</span><span class="var">X</span><span class="op">,</span> <span class="var">y</span><span class="op">,</span> <span class="var">test_size</span><span class="op">=</span><span class="num">0.2</span><span class="op">)</span></span></div>
                    <div class="code-line"><span class="line-num">16</span><span class="code-content"></span></div>
                    <div class="code-line"><span class="line-num">17</span><span class="code-content"><span class="var">model</span> <span class="op">=</span> <span class="fn">RandomForestRegressor</span><span class="op">(</span><span class="var">n_estimators</span><span class="op">=</span><span class="num">100</span><span class="op">)</span></span></div>
                    <div class="code-line"><span class="line-num">18</span><span class="code-content"><span class="var">model</span><span class="op">.</span><span class="fn">fit</span><span class="op">(</span><span class="var">X_train</span><span class="op">,</span> <span class="var">y_train</span><span class="op">)</span></span></div>
                    <div class="code-line"><span class="line-num">19</span><span class="code-content"><span class="builtin">print</span><span class="op">(</span><span class="kw">f</span><span class="str">"R&#178;: {model.score(X_test, y_test):.4f}"</span><span class="op">)</span></span></div>
                </div>
                <div class="btn-row">
                    <button class="btn btn-green">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"/></svg>
                        Run Model
                    </button>
                    <button class="btn btn-blue">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/></svg>
                        Save Model
                    </button>
                    <button class="btn btn-amber">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83-2.83l.06-.06A1.65 1.65 0 004.68 15a1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 112.83-2.83l.06.06A1.65 1.65 0 009 4.68a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 2.83l-.06.06A1.65 1.65 0 0019.4 9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z"/></svg>
                        Tune Parameters
                    </button>
                </div>
            </div>
        </div>

        <!-- Feature Importance Card -->
        <div class="card animate-in delay-6">
            <div class="card-header">
                <div class="card-title section-glow-cyan">
                    <span class="card-title-icon" style="background:rgba(0,188,212,0.12); color:var(--cyan);">&#x2261;</span>
                    Feature Importance Analysis
                </div>
            </div>
            <div class="card-body">
                <div class="chart-container">
                    <canvas id="featureChart"></canvas>
                </div>
                <div class="btn-row" style="margin-top:14px;">
                    <button class="btn btn-outline">Correlation Matrix</button>
                    <button class="btn btn-outline">Distribution</button>
                    <button class="btn btn-outline">Time Series</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Row 2: Experiment Notebook + Experiment Log -->
    <section class="two-col">
        <!-- Experiment Notebook -->
        <div class="card animate-in delay-7">
            <div class="card-header">
                <div class="card-title section-glow-purple">
                    <span class="card-title-icon" style="background:rgba(176,122,255,0.12); color:var(--purple);">&#x1D4D3;</span>
                    Experiment Notebook
                </div>
                <span style="font-size:11px; color:var(--text-muted);">experiment_042.ipynb</span>
            </div>
            <div class="card-body">
                <!-- Cell 1 -->
                <div class="notebook-cell">
                    <div class="cell-header">
                        <span class="cell-badge code-badge">In [1]</span>
                        <span>Python 3.11</span>
                    </div>
                    <div class="cell-code">
                        <span class="cmt"># Seasonal fire pattern analysis</span><br>
                        <span class="kw">import</span> <span class="var">pandas</span> <span class="kw">as</span> <span class="var">pd</span><br>
                        <span class="var">fires</span> <span class="op">=</span> <span class="var">pd</span><span class="op">.</span><span class="fn">read_parquet</span><span class="op">(</span><span class="str">'fire_events_2019_2025.parquet'</span><span class="op">)</span><br>
                        <span class="var">monthly</span> <span class="op">=</span> <span class="var">fires</span><span class="op">.</span><span class="fn">groupby</span><span class="op">(</span><span class="var">fires</span><span class="op">.</span><span class="var">date</span><span class="op">.</span><span class="var">dt</span><span class="op">.</span><span class="var">month</span><span class="op">).</span><span class="fn">agg</span><span class="op">({</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="str">'acres_burned'</span><span class="op">:</span> <span class="str">'sum'</span><span class="op">,</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="str">'incidents'</span><span class="op">:</span> <span class="str">'count'</span><br>
                        <span class="op">})</span><br>
                        <span class="builtin">print</span><span class="op">(</span><span class="var">monthly</span><span class="op">.</span><span class="fn">describe</span><span class="op">())</span>
                    </div>
                    <div class="cell-output">
                        <div class="cell-header" style="border-bottom:none; border-top: none; padding-left:0;">
                            <span class="cell-badge output-badge">Out [1]</span>
                        </div>
                        Analysis complete. Peak fire activity July-September.<br>
                        Avg monthly incidents: 1,247 | Peak: 4,892 (August)<br>
                        Total acres burned 2019-2025: 18.7M acres
                    </div>
                </div>

                <!-- Cell 2 -->
                <div class="notebook-cell">
                    <div class="cell-header">
                        <span class="cell-badge code-badge">In [2]</span>
                        <span>Python 3.11</span>
                    </div>
                    <div class="cell-code">
                        <span class="cmt"># Fire spread simulation</span><br>
                        <span class="kw">from</span> <span class="var">climaiq.models</span> <span class="kw">import</span> <span class="fn">SpreadSimulator</span><br>
                        <span class="var">sim</span> <span class="op">=</span> <span class="fn">SpreadSimulator</span><span class="op">(</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="var">wind_speed</span><span class="op">=</span><span class="num">25</span><span class="op">,</span> <span class="var">humidity</span><span class="op">=</span><span class="num">15</span><span class="op">,</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="var">fuel_moisture</span><span class="op">=</span><span class="num">8.2</span><span class="op">,</span> <span class="var">terrain</span><span class="op">=</span><span class="str">'chaparral'</span><br>
                        <span class="op">)</span><br>
                        <span class="var">result</span> <span class="op">=</span> <span class="var">sim</span><span class="op">.</span><span class="fn">run</span><span class="op">(</span><span class="var">hours</span><span class="op">=</span><span class="num">24</span><span class="op">)</span><br>
                        <span class="builtin">print</span><span class="op">(</span><span class="var">result</span><span class="op">.</span><span class="fn">summary</span><span class="op">())</span>
                    </div>
                    <div class="cell-output">
                        <div class="cell-header" style="border-bottom:none; border-top: none; padding-left:0;">
                            <span class="cell-badge output-badge">Out [2]</span>
                        </div>
                        Projected 2,400 acres in 24h. Peak rate: 150 acres/hour.<br>
                        Wind-driven spread NE at 2.3 km/h. Containment probability: 34%.<br>
                        Recommended resource deployment: 6 crews, 4 air tankers.
                    </div>
                </div>

                <div class="btn-row">
                    <button class="btn btn-green">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"/></svg>
                        Run Cell
                    </button>
                    <button class="btn btn-outline">+ Add Cell</button>
                    <button class="btn btn-outline">Export Notebook</button>
                </div>
            </div>
        </div>

        <!-- Experiment Log -->
        <div class="card animate-in delay-8">
            <div class="card-header">
                <div class="card-title">
                    <span class="card-title-icon" style="background:rgba(87,148,242,0.12); color:var(--blue);">&#x276F;</span>
                    Experiment Log
                </div>
                <span style="font-size:11px; color:var(--text-muted);">auto-refreshing</span>
            </div>
            <div class="card-body">
                <div class="terminal">
                    <div><span class="log-time">14:32:07</span> <span class="log-info">[INFO]</span> <span class="log-msg">Initializing Random Forest training pipeline...</span></div>
                    <div><span class="log-time">14:32:08</span> <span class="log-info">[INFO]</span> <span class="log-msg">Loaded 2,341,876 training samples from data lake</span></div>
                    <div><span class="log-time">14:32:12</span> <span class="log-info">[INFO]</span> <span class="log-msg">Feature engineering: 20 features extracted, 6 selected</span></div>
                    <div><span class="log-time">14:33:45</span> <span class="log-info">[INFO]</span> <span class="log-msg">Epoch 1/50 complete. Loss: 0.087, Acc: 0.891</span></div>
                    <div><span class="log-time">14:35:22</span> <span class="log-warn">[WARN]</span> <span class="log-msg">GPU memory usage at 89% - consider batch reduction</span></div>
                    <div><span class="log-time">14:38:01</span> <span class="log-info">[INFO]</span> <span class="log-msg">Epoch 25/50 complete. Loss: 0.031, Acc: 0.942</span></div>
                    <div><span class="log-time">14:41:19</span> <span class="log-info">[INFO]</span> <span class="log-msg">Training complete. Final R&#178;: 0.947. Model saved to registry.</span></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Row 3: Datasets + Tools + FireBench -->
    <section class="three-col">
        <!-- Research Datasets -->
        <div class="card animate-in delay-9">
            <div class="card-header">
                <div class="card-title">
                    <span class="card-title-icon" style="background:rgba(255,167,38,0.12); color:var(--amber);">&#x1F5C4;</span>
                    Research Datasets
                </div>
                <span style="font-size:11px; color:var(--text-muted);">7 sources</span>
            </div>
            <div class="card-body">
                <ul class="dataset-list">
                    <li class="dataset-item">
                        <div class="dataset-left">
                            <div class="dataset-icon" style="color:#ff6b35;">&#x1F525;</div>
                            <div>
                                <div class="dataset-name">Historical Fire Data</div>
                                <div class="dataset-meta">2.4M records | Updated daily</div>
                            </div>
                        </div>
                        <span class="dataset-size">847 MB</span>
                    </li>
                    <li class="dataset-item">
                        <div class="dataset-left">
                            <div class="dataset-icon" style="color:#5794f2;">&#x1F321;</div>
                            <div>
                                <div class="dataset-name">Weather Station Network</div>
                                <div class="dataset-meta">1,247 stations | Real-time</div>
                            </div>
                        </div>
                        <span class="dataset-size">Streaming</span>
                    </li>
                    <li class="dataset-item">
                        <div class="dataset-left">
                            <div class="dataset-icon" style="color:#00bcd4;">&#x1F6F0;</div>
                            <div>
                                <div class="dataset-name">Satellite Imagery</div>
                                <div class="dataset-meta">MODIS / Landsat | Multi-spectral</div>
                            </div>
                        </div>
                        <span class="dataset-size">12.7 TB</span>
                    </li>
                    <li class="dataset-item">
                        <div class="dataset-left">
                            <div class="dataset-icon" style="color:#73bf69;">&#x1F33F;</div>
                            <div>
                                <div class="dataset-name">Vegetation Health Index</div>
                                <div class="dataset-meta">NDVI composite | Weekly</div>
                            </div>
                        </div>
                        <span class="dataset-size">2.1 GB</span>
                    </li>
                    <li class="dataset-item">
                        <div class="dataset-left">
                            <div class="dataset-icon" style="color:#ffa726;">&#x1F4A7;</div>
                            <div>
                                <div class="dataset-name">Live Fuel Moisture</div>
                                <div class="dataset-meta">Field sampling network</div>
                            </div>
                        </div>
                        <span class="dataset-size">89 MB</span>
                    </li>
                    <li class="dataset-item">
                        <div class="dataset-left">
                            <div class="dataset-icon" style="color:#b07aff;">&#x26F0;</div>
                            <div>
                                <div class="dataset-name">Digital Elevation Models</div>
                                <div class="dataset-meta">30m resolution | Nationwide</div>
                            </div>
                        </div>
                        <span class="dataset-size">4.8 GB</span>
                    </li>
                    <li class="dataset-item">
                        <div class="dataset-left">
                            <div class="dataset-icon" style="color:#e0a0ff;">&#x1F3E0;</div>
                            <div>
                                <div class="dataset-name">Socioeconomic Risk Factors</div>
                                <div class="dataset-meta">Census + WUI boundaries</div>
                            </div>
                        </div>
                        <span class="dataset-size">245 MB</span>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Research Tools -->
        <div class="card animate-in delay-9">
            <div class="card-header">
                <div class="card-title">
                    <span class="card-title-icon" style="background:rgba(0,188,212,0.12); color:var(--cyan);">&#x1F527;</span>
                    Research Tools
                </div>
            </div>
            <div class="card-body">
                <div class="pill-row">
                    <span class="pill active">Data Mining</span>
                    <span class="pill">Statistical Analysis</span>
                    <span class="pill">Geospatial</span>
                    <span class="pill">Time Series</span>
                </div>
                <div class="tool-grid">
                    <button class="tool-btn">
                        <div style="font-size:22px; margin-bottom:6px;">&#x1F4D3;</div>
                        JupyterHub
                    </button>
                    <button class="tool-btn">
                        <div style="font-size:22px; margin-bottom:6px;">&#x1F4CA;</div>
                        R Studio
                    </button>
                    <button class="tool-btn">
                        <div style="font-size:22px; margin-bottom:6px;">&#x1F4C8;</div>
                        TensorBoard
                    </button>
                    <button class="tool-btn">
                        <div style="font-size:22px; margin-bottom:6px;">&#x1F4E4;</div>
                        Publish Findings
                    </button>
                </div>
                <div style="margin-top:12px;">
                    <button class="tool-btn" style="width:100%;">
                        <div style="font-size:18px; margin-bottom:4px;">&#x1F50D;</div>
                        Peer Review Portal
                    </button>
                </div>
            </div>
        </div>

        <!-- FireBench Integration -->
        <div class="card animate-in delay-9">
            <div class="card-header">
                <div class="card-title section-glow-orange">
                    <span class="card-title-icon" style="background:rgba(255,61,0,0.12); color:var(--red);">&#x1F525;</span>
                    FireBench Integration
                </div>
                <span style="font-size:10px; padding:3px 8px; border-radius:4px; background:rgba(255,107,53,0.12); color:var(--fire-orange); font-weight:600;">Google Research</span>
            </div>
            <div class="card-body">
                <div class="firebench-code">
                    <span class="cmt"># Google Research FireBench - Physics-Informed Model</span><br>
                    <span class="kw">import</span> <span class="var">tensorflow</span> <span class="kw">as</span> <span class="var">tf</span><br>
                    <span class="kw">from</span> <span class="var">firebench</span> <span class="kw">import</span> <span class="fn">LESModel</span><span class="op">,</span> <span class="fn">PhysicsLoss</span><br>
                    <br>
                    <span class="var">model</span> <span class="op">=</span> <span class="fn">LESModel</span><span class="op">(</span><br>
                    &nbsp;&nbsp;<span class="var">resolution</span><span class="op">=</span><span class="num">30</span><span class="op">,</span>  <span class="cmt"># meters</span><br>
                    &nbsp;&nbsp;<span class="var">physics_constraints</span><span class="op">=</span><span class="kw">True</span><span class="op">,</span><br>
                    &nbsp;&nbsp;<span class="var">fuel_model</span><span class="op">=</span><span class="str">'anderson_13'</span><br>
                    <span class="op">)</span><br>
                    <br>
                    <span class="var">result</span> <span class="op">=</span> <span class="var">model</span><span class="op">.</span><span class="fn">simulate</span><span class="op">(</span><br>
                    &nbsp;&nbsp;<span class="var">ignition_point</span><span class="op">=(</span><span class="num">34.05</span><span class="op">,</span> <span class="num">-118.24</span><span class="op">),</span><br>
                    &nbsp;&nbsp;<span class="var">duration_hours</span><span class="op">=</span><span class="num">48</span><br>
                    <span class="op">)</span>
                </div>
                <div class="btn-row">
                    <button class="btn btn-green">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"/></svg>
                        Run Simulation
                    </button>
                    <button class="btn btn-amber">Calibrate</button>
                </div>
            </div>
        </div>
    </section>

</main>

<script>
    // Feature Importance Chart
    const ctx = document.getElementById('featureChart').getContext('2d');

    const gradient1 = ctx.createLinearGradient(0, 0, 400, 0);
    gradient1.addColorStop(0, 'rgba(255, 107, 53, 0.9)');
    gradient1.addColorStop(1, 'rgba(255, 61, 0, 0.7)');

    const gradient2 = ctx.createLinearGradient(0, 0, 350, 0);
    gradient2.addColorStop(0, 'rgba(255, 167, 38, 0.9)');
    gradient2.addColorStop(1, 'rgba(255, 107, 53, 0.7)');

    const gradient3 = ctx.createLinearGradient(0, 0, 250, 0);
    gradient3.addColorStop(0, 'rgba(0, 188, 212, 0.9)');
    gradient3.addColorStop(1, 'rgba(87, 148, 242, 0.7)');

    const gradient4 = ctx.createLinearGradient(0, 0, 150, 0);
    gradient4.addColorStop(0, 'rgba(115, 191, 105, 0.9)');
    gradient4.addColorStop(1, 'rgba(0, 188, 212, 0.7)');

    const gradient5 = ctx.createLinearGradient(0, 0, 100, 0);
    gradient5.addColorStop(0, 'rgba(176, 122, 255, 0.9)');
    gradient5.addColorStop(1, 'rgba(87, 148, 242, 0.7)');

    const gradient6 = ctx.createLinearGradient(0, 0, 80, 0);
    gradient6.addColorStop(0, 'rgba(224, 160, 255, 0.9)');
    gradient6.addColorStop(1, 'rgba(176, 122, 255, 0.7)');

    new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Temperature', 'Wind Speed', 'Humidity', 'Vegetation Index', 'Slope', 'Elevation'],
            datasets: [{
                label: 'Importance',
                data: [0.342, 0.298, 0.187, 0.096, 0.047, 0.030],
                backgroundColor: [gradient1, gradient2, gradient3, gradient4, gradient5, gradient6],
                borderColor: [
                    'rgba(255, 107, 53, 0.5)',
                    'rgba(255, 167, 38, 0.5)',
                    'rgba(0, 188, 212, 0.5)',
                    'rgba(115, 191, 105, 0.5)',
                    'rgba(176, 122, 255, 0.5)',
                    'rgba(224, 160, 255, 0.5)'
                ],
                borderWidth: 1,
                borderRadius: 6,
                barThickness: 28
            }]
        },
        options: {
            indexAxis: 'y',
            responsive: true,
            maintainAspectRatio: false,
            layout: {
                padding: { right: 20, top: 4, bottom: 4 }
            },
            plugins: {
                legend: { display: false },
                tooltip: {
                    backgroundColor: 'rgba(22, 22, 31, 0.95)',
                    titleColor: '#f0f0f5',
                    bodyColor: '#a0a0b0',
                    borderColor: 'rgba(255,255,255,0.1)',
                    borderWidth: 1,
                    cornerRadius: 8,
                    padding: 12,
                    titleFont: { family: 'Inter', weight: '600', size: 13 },
                    bodyFont: { family: 'JetBrains Mono', size: 12 },
                    callbacks: {
                        label: function(context) {
                            return ' Importance: ' + context.parsed.x.toFixed(3);
                        }
                    }
                }
            },
            scales: {
                x: {
                    beginAtZero: true,
                    max: 0.4,
                    grid: {
                        color: 'rgba(255,255,255,0.04)',
                        drawBorder: false
                    },
                    ticks: {
                        color: '#6a6a7a',
                        font: { family: 'JetBrains Mono', size: 11 },
                        callback: function(value) { return value.toFixed(2); }
                    }
                },
                y: {
                    grid: { display: false },
                    ticks: {
                        color: '#a0a0b0',
                        font: { family: 'Inter', weight: '500', size: 12 },
                        padding: 8
                    }
                }
            }
        }
    });

    // Interactive pill toggling
    document.querySelectorAll('.pill-row').forEach(row => {
        row.querySelectorAll('.pill').forEach(pill => {
            pill.addEventListener('click', () => {
                row.querySelectorAll('.pill').forEach(p => p.classList.remove('active'));
                pill.classList.add('active');
            });
        });
    });

    // Subtle hover glow on metric cards
    document.querySelectorAll('.metric-card').forEach(card => {
        card.addEventListener('mouseenter', () => {
            card.style.boxShadow = card.style.boxShadow.replace('0.4', '0.6');
        });
        card.addEventListener('mouseleave', () => {
            card.style.boxShadow = card.style.boxShadow.replace('0.6', '0.4');
        });
    });

    // Button click feedback
    document.querySelectorAll('.btn, .tool-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            this.style.transform = 'scale(0.96)';
            setTimeout(() => { this.style.transform = 'scale(1)'; }, 150);
        });
    });
</script>

</body>
</html>
